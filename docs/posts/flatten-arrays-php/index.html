<!DOCTYPE html>
<html lang="en">
    <head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />

  <title>
    
    Flattening arrays in PHP - Lambda Out Loud
    
  </title>

  <meta name="HandheldFriendly" content="True" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="/assets/css/simple.min.css">
  <link rel="stylesheet" href="/assets/css/custom.css">

  <script data-goatcounter="https://lambda-out-loud.goatcounter.com/count" async src="https://gc.zgo.at/count.js"></script>

  
</head>

    <body class="post-template">
        <header>
	<div>
		<a href="/" class="site-title" title="Lambda Out Loud">Î»!</a>
		<p><em>A blog about all things code</em></p>
	</div>

	<nav>
		
		
		<a class=""
			href="/posts/">Posts
		 </a>
		
		<a class=""
			href="/grimoire/">Grimoire
		 </a>
		
		<a class=""
			href="/about/">About
		 </a>
		
	</nav>
</header>

        
<main>
    
    <h1>Flattening arrays in PHP</h1>
    <p class="meta">
      <time >January 20, 2022</time>
    </p>
    <section>
      <p>To sum things up; if you want to flatten a <strong>two-dimensional</strong> array with
numeric keys:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php">array_merge(<span style="color:#666">...</span><span style="color:#bb60d5">$twoDimensionalArray</span>);
</code></pre></div><p>If you want to flatten a <strong>two-dimensional</strong> associative array:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php">array_merge(<span style="color:#666">...</span>array_values(<span style="color:#bb60d5">$twoDimensionalArray</span>));
</code></pre></div><p>If you want a <strong>general solution</strong> to flatten an arbitrarily nested array and
you don&rsquo;t care about the keys:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#007020;font-weight:bold">function</span> <span style="color:#06287e">flatten_array</span>(<span style="color:#007020;font-weight:bold">array</span> <span style="color:#bb60d5">$array</span>)<span style="color:#666">:</span> <span style="color:#007020;font-weight:bold">array</span> {
    <span style="color:#bb60d5">$recursiveArrayIterator</span> <span style="color:#666">=</span> <span style="color:#007020;font-weight:bold">new</span> RecursiveArrayIterator(
        <span style="color:#bb60d5">$array</span>,
        RecursiveArrayIterator<span style="color:#666">::</span><span style="color:#4070a0">CHILD_ARRAYS_ONLY</span>
    );
    <span style="color:#bb60d5">$iterator</span> <span style="color:#666">=</span> <span style="color:#007020;font-weight:bold">new</span> RecursiveIteratorIterator(<span style="color:#bb60d5">$recursiveArrayIterator</span>);

    <span style="color:#007020;font-weight:bold">return</span> iterator_to_array(<span style="color:#bb60d5">$iterator</span>, <span style="color:#007020;font-weight:bold">false</span>);
}
</code></pre></div><p>If you want a <strong>general solution</strong> to flatten an arbitrarily nested array and
you <em>do</em> care about the keys:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#007020;font-weight:bold">function</span> <span style="color:#06287e">flatten_array_preserve_keys</span>(<span style="color:#007020;font-weight:bold">array</span> <span style="color:#bb60d5">$array</span>)<span style="color:#666">:</span> <span style="color:#007020;font-weight:bold">array</span> {
    <span style="color:#bb60d5">$recursiveArrayIterator</span> <span style="color:#666">=</span> <span style="color:#007020;font-weight:bold">new</span> RecursiveArrayIterator(
        <span style="color:#bb60d5">$array</span>,
        RecursiveArrayIterator<span style="color:#666">::</span><span style="color:#4070a0">CHILD_ARRAYS_ONLY</span>
    );
    <span style="color:#bb60d5">$iterator</span> <span style="color:#666">=</span> <span style="color:#007020;font-weight:bold">new</span> RecursiveIteratorIterator(<span style="color:#bb60d5">$recursiveArrayIterator</span>);

    <span style="color:#007020;font-weight:bold">return</span> iterator_to_array(<span style="color:#bb60d5">$iterator</span>);
}
</code></pre></div><p>As a side note, if you are only interested in all <strong>values with a specific
key</strong> <sup id="fnref:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#bb60d5">$array</span> <span style="color:#666">=</span> [
    [<span style="color:#4070a0">&#39;id&#39;</span> <span style="color:#666">=&gt;</span> <span style="color:#40a070">123</span>, <span style="color:#4070a0">&#39;name&#39;</span> <span style="color:#666">=&gt;</span> <span style="color:#4070a0">&#39;aaa&#39;</span>, <span style="color:#4070a0">&#39;class&#39;</span> <span style="color:#666">=&gt;</span> <span style="color:#4070a0">&#39;x&#39;</span>],
    [<span style="color:#4070a0">&#39;id&#39;</span> <span style="color:#666">=&gt;</span> <span style="color:#40a070">124</span>, <span style="color:#4070a0">&#39;name&#39;</span> <span style="color:#666">=&gt;</span> <span style="color:#4070a0">&#39;bbb&#39;</span>, <span style="color:#4070a0">&#39;class&#39;</span> <span style="color:#666">=&gt;</span> <span style="color:#4070a0">&#39;x&#39;</span>],
    [<span style="color:#4070a0">&#39;id&#39;</span> <span style="color:#666">=&gt;</span> <span style="color:#40a070">345</span>, <span style="color:#4070a0">&#39;name&#39;</span> <span style="color:#666">=&gt;</span> <span style="color:#4070a0">&#39;ccc&#39;</span>, <span style="color:#4070a0">&#39;class&#39;</span> <span style="color:#666">=&gt;</span> <span style="color:#4070a0">&#39;y&#39;</span>],
];

array_column(<span style="color:#bb60d5">$array</span>, <span style="color:#4070a0">&#39;id&#39;</span>);
<span style="color:#60a0b0;font-style:italic">// [123, 124, 345]
</span></code></pre></div><h2 id="flattening-a-two-dimensional-array">Flattening a two-dimensional array&nbsp;<a class="anchor" href="#flattening-a-two-dimensional-array"><svg
            width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path
              d="M14.8284 12L16.2426 13.4142L19.071 10.5858C20.6331 9.02365 20.6331 6.49099 19.071 4.9289C17.509 3.3668 14.9763 3.3668 13.4142 4.9289L10.5858 7.75732L12 9.17154L14.8284 6.34311C15.6095 5.56206 16.8758 5.56206 17.6568 6.34311C18.4379 7.12416 18.4379 8.39049 17.6568 9.17154L14.8284 12Z"
              fill="currentColor" />
            <path
              d="M12 14.8285L13.4142 16.2427L10.5858 19.0711C9.02372 20.6332 6.49106 20.6332 4.92896 19.0711C3.36686 17.509 3.36686 14.9764 4.92896 13.4143L7.75739 10.5858L9.1716 12L6.34317 14.8285C5.56212 15.6095 5.56212 16.8758 6.34317 17.6569C7.12422 18.4379 8.39055 18.4379 9.1716 17.6569L12 14.8285Z"
              fill="currentColor" />
            <path
              d="M14.8285 10.5857C15.219 10.1952 15.219 9.56199 14.8285 9.17147C14.4379 8.78094 13.8048 8.78094 13.4142 9.17147L9.1716 13.4141C8.78107 13.8046 8.78107 14.4378 9.1716 14.8283C9.56212 15.2188 10.1953 15.2188 10.5858 14.8283L14.8285 10.5857Z"
              fill="currentColor" />
          </svg></i></a> </h2>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php">array_merge(<span style="color:#666">...</span><span style="color:#bb60d5">$twoDimensionalArray</span>);
</code></pre></div><p><a href="https://www.php.net/manual/en/function.array-merge.php"><code>array_merge</code></a> takes a
variable list of arrays as arguments and merges them all into one array. By
using the splat operator (<code>...</code>), every element of the two-dimensional array
gets passed as an argument to <code>array_merge</code>.</p>
<p>This works fine for merging associative arrays as well, but beware that the
outer array is only allowed to have numeric keys:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#bb60d5">$twoDimensionalArray</span> <span style="color:#666">=</span> [
    <span style="color:#4070a0">&#39;x&#39;</span> <span style="color:#666">=&gt;</span> [<span style="color:#4070a0">&#39;first&#39;</span>, <span style="color:#4070a0">&#39;array&#39;</span>],
    <span style="color:#4070a0">&#39;y&#39;</span> <span style="color:#666">=&gt;</span> [<span style="color:#4070a0">&#39;second&#39;</span>, <span style="color:#4070a0">&#39;array&#39;</span>]
];

<span style="color:#bb60d5">$flattenedArray</span> <span style="color:#666">=</span> array_merge(<span style="color:#666">...</span><span style="color:#bb60d5">$twoDimensionalArray</span>);
<span style="color:#60a0b0;font-style:italic">// Fatal error: Uncaught ArgumentCountError: array_merge() does not accept unknown named parameters
</span></code></pre></div><p>The solution is to use <code>array_values</code> in those cases:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#bb60d5">$twoDimensionalArray</span> <span style="color:#666">=</span> [
    <span style="color:#4070a0">&#39;x&#39;</span> <span style="color:#666">=&gt;</span> [<span style="color:#4070a0">&#39;first&#39;</span>, <span style="color:#4070a0">&#39;array&#39;</span>],
    <span style="color:#4070a0">&#39;y&#39;</span> <span style="color:#666">=&gt;</span> [<span style="color:#4070a0">&#39;second&#39;</span>, <span style="color:#4070a0">&#39;array&#39;</span>]
];

<span style="color:#bb60d5">$flattenedArray</span> <span style="color:#666">=</span> array_merge(<span style="color:#666">...</span>array_values(<span style="color:#bb60d5">$twoDimensionalArray</span>));
</code></pre></div><p>On PHP version 7.3 or lower, you will see the following if the input array is
empty:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#bb60d5">$twoDimensionalArray</span> <span style="color:#666">=</span> [];
array_merge(<span style="color:#666">...</span><span style="color:#bb60d5">$twoDimensionalArray</span>);
<span style="color:#60a0b0;font-style:italic">// Warning:  array_merge() expects at least 1 parameter, 0 given.
</span></code></pre></div><p>You can solve this by passing a single empty array as an extra argument:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php">array_merge([], <span style="color:#666">...</span><span style="color:#bb60d5">$twoDimensionalArray</span>);
</code></pre></div><h2 id="a-general-solution-for-arbitrarily-nested-arrays">A general solution for arbitrarily nested arrays&nbsp;<a class="anchor" href="#a-general-solution-for-arbitrarily-nested-arrays"><svg
            width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path
              d="M14.8284 12L16.2426 13.4142L19.071 10.5858C20.6331 9.02365 20.6331 6.49099 19.071 4.9289C17.509 3.3668 14.9763 3.3668 13.4142 4.9289L10.5858 7.75732L12 9.17154L14.8284 6.34311C15.6095 5.56206 16.8758 5.56206 17.6568 6.34311C18.4379 7.12416 18.4379 8.39049 17.6568 9.17154L14.8284 12Z"
              fill="currentColor" />
            <path
              d="M12 14.8285L13.4142 16.2427L10.5858 19.0711C9.02372 20.6332 6.49106 20.6332 4.92896 19.0711C3.36686 17.509 3.36686 14.9764 4.92896 13.4143L7.75739 10.5858L9.1716 12L6.34317 14.8285C5.56212 15.6095 5.56212 16.8758 6.34317 17.6569C7.12422 18.4379 8.39055 18.4379 9.1716 17.6569L12 14.8285Z"
              fill="currentColor" />
            <path
              d="M14.8285 10.5857C15.219 10.1952 15.219 9.56199 14.8285 9.17147C14.4379 8.78094 13.8048 8.78094 13.4142 9.17147L9.1716 13.4141C8.78107 13.8046 8.78107 14.4378 9.1716 14.8283C9.56212 15.2188 10.1953 15.2188 10.5858 14.8283L14.8285 10.5857Z"
              fill="currentColor" />
          </svg></i></a> </h2>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#007020;font-weight:bold">function</span> <span style="color:#06287e">flatten_array</span>(<span style="color:#007020;font-weight:bold">array</span> <span style="color:#bb60d5">$array</span>)<span style="color:#666">:</span> <span style="color:#007020;font-weight:bold">array</span> {
    <span style="color:#bb60d5">$recursiveArrayIterator</span> <span style="color:#666">=</span> <span style="color:#007020;font-weight:bold">new</span> RecursiveArrayIterator(
        <span style="color:#bb60d5">$array</span>,
        RecursiveArrayIterator<span style="color:#666">::</span><span style="color:#4070a0">CHILD_ARRAYS_ONLY</span>
    );
    <span style="color:#bb60d5">$iterator</span> <span style="color:#666">=</span> <span style="color:#007020;font-weight:bold">new</span> RecursiveIteratorIterator(<span style="color:#bb60d5">$recursiveArrayIterator</span>);

    <span style="color:#007020;font-weight:bold">return</span> iterator_to_array(<span style="color:#bb60d5">$iterator</span>, <span style="color:#007020;font-weight:bold">false</span>);
}
</code></pre></div><p>For arbitrarily nested arrays we make use of the built-in iterators
<a href="https://www.php.net/manual/en/class.recursivearrayiterator.php"><code>RecursiveArrayIterator</code></a>
and
<a href="https://www.php.net/manual/en/class.recursiveiteratoriterator.php"><code>RecursiveIteratorIterator</code></a>.
It is important to note that we have to pass the flag <code>CHILD_ARRAYS_ONLY</code> to the
<code>ArrayIterator</code>, otherwise it would iterate over public properties of objects as
well, which you probably never want:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#007020;font-weight:bold">class</span> <span style="color:#0e84b5;font-weight:bold">Person</span>
{
    <span style="color:#007020;font-weight:bold">public</span> <span style="color:#007020;font-weight:bold">function</span> __construct(<span style="color:#007020;font-weight:bold">public</span> <span style="color:#bb60d5">$name</span>) {}
}

<span style="color:#bb60d5">$array</span> <span style="color:#666">=</span> [
    <span style="color:#007020;font-weight:bold">new</span> Person(<span style="color:#4070a0">&#39;Jake&#39;</span>),
    <span style="color:#007020;font-weight:bold">new</span> Person(<span style="color:#4070a0">&#39;Charles&#39;</span>)
];


flatten_array(<span style="color:#bb60d5">$array</span>);
<span style="color:#60a0b0;font-style:italic">// Without CHILD_ARRAYS_ONLY:
</span><span style="color:#60a0b0;font-style:italic">//
</span><span style="color:#60a0b0;font-style:italic">// [
</span><span style="color:#60a0b0;font-style:italic">//     0 =&gt; &#39;Jake&#39;,
</span><span style="color:#60a0b0;font-style:italic">//     1 =&gt; &#39;Charles&#39;
</span><span style="color:#60a0b0;font-style:italic">// ]
</span><span style="color:#60a0b0;font-style:italic">//
</span><span style="color:#60a0b0;font-style:italic">// With CHILD_ARRAYS_ONLY:
</span><span style="color:#60a0b0;font-style:italic">//
</span><span style="color:#60a0b0;font-style:italic">// [
</span><span style="color:#60a0b0;font-style:italic">//     0 =&gt; Person Object,
</span><span style="color:#60a0b0;font-style:italic">//     1 =&gt; Person Object
</span><span style="color:#60a0b0;font-style:italic">// ]
</span></code></pre></div><p>Lastly, you can play around with the second argument of
<a href="https://www.php.net/manual/en/function.iterator-to-array.php"><code>iterator_to_array</code></a>,
which indicates whether or not keys should be preserved. If you pass <code>false</code>,
keys will not be preserved and the result will be a simple list. If you pass
<code>true</code> (which is the default), keys will be preserved, meaning duplicate entries
will be lost. Both approaches have their uses.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#bb60d5">$employees</span> <span style="color:#666">=</span> [
    [<span style="color:#4070a0">&#39;name&#39;</span> <span style="color:#666">=&gt;</span> <span style="color:#4070a0">&#39;Jake Peralta&#39;</span>],
    [<span style="color:#4070a0">&#39;name&#39;</span> <span style="color:#666">=&gt;</span> <span style="color:#4070a0">&#39;Charles Boyle&#39;</span>]
];

flatten_array(<span style="color:#bb60d5">$employees</span>);
<span style="color:#60a0b0;font-style:italic">// [
</span><span style="color:#60a0b0;font-style:italic">//     0 =&gt; &#39;Jake Peralta&#39;,
</span><span style="color:#60a0b0;font-style:italic">//     1 =&gt; &#39;Charles Boyle,
</span><span style="color:#60a0b0;font-style:italic">// ]
</span><span style="color:#60a0b0;font-style:italic"></span>
flatten_array_preserve_keys(<span style="color:#bb60d5">$employees</span>);
<span style="color:#60a0b0;font-style:italic">// [
</span><span style="color:#60a0b0;font-style:italic">//     &#39;name&#39; =&gt; &#39;Charles Boyle&#39;
</span><span style="color:#60a0b0;font-style:italic">// ]
</span></code></pre></div><h2 id="extracting-values-with-a-specific-key">Extracting values with a specific key&nbsp;<a class="anchor" href="#extracting-values-with-a-specific-key"><svg
            width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path
              d="M14.8284 12L16.2426 13.4142L19.071 10.5858C20.6331 9.02365 20.6331 6.49099 19.071 4.9289C17.509 3.3668 14.9763 3.3668 13.4142 4.9289L10.5858 7.75732L12 9.17154L14.8284 6.34311C15.6095 5.56206 16.8758 5.56206 17.6568 6.34311C18.4379 7.12416 18.4379 8.39049 17.6568 9.17154L14.8284 12Z"
              fill="currentColor" />
            <path
              d="M12 14.8285L13.4142 16.2427L10.5858 19.0711C9.02372 20.6332 6.49106 20.6332 4.92896 19.0711C3.36686 17.509 3.36686 14.9764 4.92896 13.4143L7.75739 10.5858L9.1716 12L6.34317 14.8285C5.56212 15.6095 5.56212 16.8758 6.34317 17.6569C7.12422 18.4379 8.39055 18.4379 9.1716 17.6569L12 14.8285Z"
              fill="currentColor" />
            <path
              d="M14.8285 10.5857C15.219 10.1952 15.219 9.56199 14.8285 9.17147C14.4379 8.78094 13.8048 8.78094 13.4142 9.17147L9.1716 13.4141C8.78107 13.8046 8.78107 14.4378 9.1716 14.8283C9.56212 15.2188 10.1953 15.2188 10.5858 14.8283L14.8285 10.5857Z"
              fill="currentColor" />
          </svg></i></a> </h2>
<p><a href="https://www.php.net/manual/en/function.array-column.php"><code>array_column</code></a> is
especially useful to extract all values with a given key from an array:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#bb60d5">$array</span> <span style="color:#666">=</span> [
    [<span style="color:#4070a0">&#39;id&#39;</span> <span style="color:#666">=&gt;</span> <span style="color:#40a070">123</span>, <span style="color:#4070a0">&#39;name&#39;</span> <span style="color:#666">=&gt;</span> <span style="color:#4070a0">&#39;aaa&#39;</span>, <span style="color:#4070a0">&#39;class&#39;</span> <span style="color:#666">=&gt;</span> <span style="color:#4070a0">&#39;x&#39;</span>],
    [<span style="color:#4070a0">&#39;id&#39;</span> <span style="color:#666">=&gt;</span> <span style="color:#40a070">124</span>, <span style="color:#4070a0">&#39;name&#39;</span> <span style="color:#666">=&gt;</span> <span style="color:#4070a0">&#39;bbb&#39;</span>, <span style="color:#4070a0">&#39;class&#39;</span> <span style="color:#666">=&gt;</span> <span style="color:#4070a0">&#39;x&#39;</span>],
    [<span style="color:#4070a0">&#39;id&#39;</span> <span style="color:#666">=&gt;</span> <span style="color:#40a070">345</span>, <span style="color:#4070a0">&#39;name&#39;</span> <span style="color:#666">=&gt;</span> <span style="color:#4070a0">&#39;ccc&#39;</span>, <span style="color:#4070a0">&#39;class&#39;</span> <span style="color:#666">=&gt;</span> <span style="color:#4070a0">&#39;y&#39;</span>],
];

array_column(<span style="color:#bb60d5">$array</span>, <span style="color:#4070a0">&#39;id&#39;</span>);
<span style="color:#60a0b0;font-style:italic">// [123, 124, 345]
</span></code></pre></div><p>The function accepts an optional third parameter that specifies which column
to use as the index:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php">array_column(<span style="color:#bb60d5">$array</span>, <span style="color:#4070a0">&#39;name&#39;</span>, <span style="color:#4070a0">&#39;id&#39;</span>);
<span style="color:#60a0b0;font-style:italic">// [123 =&gt; &#39;aaa&#39;, 124 =&gt; &#39;bbb&#39;, 345 =&gt; &#39;ccc&#39;]
</span></code></pre></div><p>It handles objects as well, as long as the properties are public:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#007020;font-weight:bold">class</span> <span style="color:#0e84b5;font-weight:bold">Person</span>
{
    <span style="color:#007020;font-weight:bold">public</span> <span style="color:#007020;font-weight:bold">function</span> __construct(<span style="color:#007020;font-weight:bold">public</span> int <span style="color:#bb60d5">$id</span>, <span style="color:#007020;font-weight:bold">public</span> string <span style="color:#bb60d5">$name</span>) {}
}

<span style="color:#bb60d5">$objects</span> <span style="color:#666">=</span> [
    <span style="color:#007020;font-weight:bold">new</span> Person(<span style="color:#40a070">12</span>, <span style="color:#4070a0">&#39;John&#39;</span>),
    <span style="color:#007020;font-weight:bold">new</span> Person(<span style="color:#40a070">34</span>, <span style="color:#4070a0">&#39;Jane&#39;</span>)
];

array_column(<span style="color:#bb60d5">$objects</span>, <span style="color:#4070a0">&#39;name&#39;</span>, <span style="color:#4070a0">&#39;id&#39;</span>);
<span style="color:#60a0b0;font-style:italic">// [12 =&gt; &#39;John&#39;, 34 =&gt; &#39;Jane&#39;]
</span></code></pre></div><p>While not useful in the context of flattening arrays, there&rsquo;s another neat trick
you can do with <code>array_column</code>: by passing <code>null</code> as the second argument, the
array will be reindexed based on the third parameter:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#bb60d5">$array</span> <span style="color:#666">=</span> [
    [<span style="color:#4070a0">&#39;id&#39;</span> <span style="color:#666">=&gt;</span> <span style="color:#40a070">123</span>, <span style="color:#4070a0">&#39;name&#39;</span> <span style="color:#666">=&gt;</span> <span style="color:#4070a0">&#39;aaa&#39;</span>, <span style="color:#4070a0">&#39;class&#39;</span> <span style="color:#666">=&gt;</span> <span style="color:#4070a0">&#39;x&#39;</span>],
    [<span style="color:#4070a0">&#39;id&#39;</span> <span style="color:#666">=&gt;</span> <span style="color:#40a070">124</span>, <span style="color:#4070a0">&#39;name&#39;</span> <span style="color:#666">=&gt;</span> <span style="color:#4070a0">&#39;bbb&#39;</span>, <span style="color:#4070a0">&#39;class&#39;</span> <span style="color:#666">=&gt;</span> <span style="color:#4070a0">&#39;x&#39;</span>],
    [<span style="color:#4070a0">&#39;id&#39;</span> <span style="color:#666">=&gt;</span> <span style="color:#40a070">345</span>, <span style="color:#4070a0">&#39;name&#39;</span> <span style="color:#666">=&gt;</span> <span style="color:#4070a0">&#39;ccc&#39;</span>, <span style="color:#4070a0">&#39;class&#39;</span> <span style="color:#666">=&gt;</span> <span style="color:#4070a0">&#39;y&#39;</span>],
];

array_column(<span style="color:#bb60d5">$array</span>, <span style="color:#007020;font-weight:bold">null</span>, <span style="color:#4070a0">&#39;id&#39;</span>);
<span style="color:#60a0b0;font-style:italic">// [
</span><span style="color:#60a0b0;font-style:italic">//    123 =&gt; [&#39;id&#39; =&gt; 123, &#39;name&#39; =&gt; &#39;aaa&#39;, &#39;class&#39; =&gt; &#39;x&#39;],
</span><span style="color:#60a0b0;font-style:italic">//    124 =&gt; [&#39;id&#39; =&gt; 124, &#39;name&#39; =&gt; &#39;bbb&#39;, &#39;class&#39; =&gt; &#39;x&#39;],
</span><span style="color:#60a0b0;font-style:italic">//    345 =&gt; [&#39;id&#39; =&gt; 345, &#39;name&#39; =&gt; &#39;ccc&#39;, &#39;class&#39; =&gt; &#39;y&#39;],
</span><span style="color:#60a0b0;font-style:italic">// ]
</span></code></pre></div><section class="footnotes" role="doc-endnotes">
<hr>
<ol>
<li id="fn:1" role="doc-endnote">
<p>Credit goes to <a href="https://github.com/strayobject">@strayobject</a> for
suggesting <code>array_column</code>.&#160;<a href="#fnref:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
</ol>
</section>

    </section>
    <p class="meta">
      Tags:
        <a href="https://www.lambda-out-loud.com/tags/php/">PHP</a>
    </p>
</main>

        <footer>
    &copy; 2022 Lambda Out Loud
    | <a href="mailto:mark.gerarts+lambda@gmail.com">Contact</a>
    | <a class="subscribe-button" href="/index.xml">RSS</a>
</footer>



    </body>
</html>
